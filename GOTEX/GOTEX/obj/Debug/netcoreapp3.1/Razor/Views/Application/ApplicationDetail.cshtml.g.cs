#pragma checksum "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "342c58c0e65589590304f9d260a8d8887e8b0c16"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Application_ApplicationDetail), @"mvc.1.0.view", @"/Views/Application/ApplicationDetail.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\_ViewImports.cshtml"
using GOTEX;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\_ViewImports.cshtml"
using GOTEX.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\_ViewImports.cshtml"
using GOTEX.ViewModels;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\_ViewImports.cshtml"
using GOTEX.Core.BusinessObjects;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\_ViewImports.cshtml"
using GOTEX.Core.Repositories;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Identity;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
using GOTEX.Core.Utilities;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"342c58c0e65589590304f9d260a8d8887e8b0c16", @"/Views/Application/ApplicationDetail.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"553fa4994824a0e1c271dcc0934bac47a5a1b66a", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Application_ApplicationDetail : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<Application>
    #nullable disable
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/Scripts/jquery-3.3.1.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 7 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
  
    ViewBag.Title = "Application details for  " + Model.ApplicationType.Name + " Phase: " + Model.ApplicationType.ShortName + " Permit";
    string alertx = string.Empty;
    int cnt = 0;
    int count = 0;
    var AppDocs = (List<DocumentType>)ViewBag.ApplicationDocs;

    if (Model.Status.ToLower() == "approved" || Model.Status.ToLower() == "completed") { alertx = "label-success"; }
    else if (Model.Status.ToLower() == "processing" || Model.Status.ToLower() == "payment confirmed") { alertx = "label-info"; }
    else if (Model.Status.ToLower() == "pending" || Model.Status.ToLower() == "payment pending") { alertx = "label-warning"; }
    else { alertx = "label-danger"; }
    string back = User.IsInRole(Roles.Company) ? Url.Action("Index", "Company") : Url.Action("All", "Application");

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<center>\r\n    <div class=\"row box-shadow\">\r\n        <div style=\"padding: 1em 0.5em 5em 0.5em; color: yellow;background-color: green;\">\r\n            <span style=\"float: left;\">\r\n                <h2>Application Information: Reference No:- ");
#nullable restore
#line 25 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                       Write(Model.Reference);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h2>\r\n            </span>\r\n            <span style=\"float: right;\"><a");
            BeginWriteAttribute("href", " href=\"", 1334, "\"", 1346, 1);
#nullable restore
#line 27 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
WriteAttributeValue("", 1341, back, 1341, 5, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"btn btn-primary\"><i class=\"fa fa-backward\">Back</i></a></span>\r\n        </div>\r\n    <hr/>\r\n");
#nullable restore
#line 30 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
     if (ViewData["AppSubmit"] != null)
        {

#line default
#line hidden
#nullable disable
            WriteLiteral(@"            <div class=""col-md-12"">
                <div class=""alert alert-info"" role=""alert"">
                    <button type=""button"" class=""close"" data-dismiss=""alert""><span aria-hidden=""true"">&times;</span><span class=""sr-only"">Close</span></button>
                    <strong>Application Info!</strong> ");
#nullable restore
#line 35 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                  Write(ViewData["AppSubmit"]);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                </div>\r\n            </div>\r\n");
#nullable restore
#line 38 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
        }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"        <div class=""col-md-12"">
            <div class=""x-panel"">
                <div class=""x_content"">
                    <div class=""row"">
                        <div class=""col-sm-6"">
                            <table class=""table table-striped"">
                                <tr>
                                    <td>
                                        <b>Company Name</b>
                                    </td>
                                    <td>");
#nullable restore
#line 49 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                   Write(Model.User.Company.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><b>Category</b></td>\r\n                                    <td>\r\n                                        ");
#nullable restore
#line 54 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                   Write(Html.DisplayFor(model => model.ApplicationType.FullName));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                        (");
#nullable restore
#line 55 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                    Write(Model.ApplicationType.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral(@")
                                    </td>
                                </tr>
                                <tr>
                                    <td><b>Application Type</b></td>
                                    <td><span class=""label label-warning"">");
#nullable restore
#line 60 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                                     Write(Html.DisplayFor(model => model.ApplicationType.Name));

#line default
#line hidden
#nullable disable
            WriteLiteral("</span></td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><b>Year</b></td>\r\n                                    <td>");
#nullable restore
#line 64 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                   Write(Html.DisplayFor(model => model.Year));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><b>Fee Payable</b></td>\r\n                                    <td>");
#nullable restore
#line 68 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                   Write(Model.Fee.ToString("$ ###,##0.00"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><b>Service Charge</b></td>\r\n                                    <td>");
#nullable restore
#line 72 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                   Write(Model.ServiceCharge.ToString("$ ###,##0.00"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                      \r\n                                </tr>\r\n                                <tr>\r\n                                    <td><b>Total Amount Due</b></td>\r\n                                    <td>\r\n");
#nullable restore
#line 78 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                          var amt = Model.Fee + Model.ServiceCharge;

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        ");
#nullable restore
#line 79 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                   Write(amt.ToString("$ ###,##0.00"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><b>");
#nullable restore
#line 83 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                      Write(Html.DisplayNameFor(model => model.Status));

#line default
#line hidden
#nullable disable
            WriteLiteral("</b></td>\r\n                                    <td>\r\n                                        <span");
            BeginWriteAttribute("class", " class=\"", 4460, "\"", 4481, 2);
            WriteAttributeValue("", 4468, "label", 4468, 5, true);
#nullable restore
#line 85 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
WriteAttributeValue(" ", 4473, alertx, 4474, 7, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">");
#nullable restore
#line 85 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                               Write(Model.Status);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n");
#nullable restore
#line 86 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                          
                                            if (Model.Status.Equals(ApplicationStatus.PaymentNotSatisfied))
                                            {
                                                var pay = _payment.GetAll().FirstOrDefault(x => x.ApplicationId == Model.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                                                <a 
                                                    href=""#"" 
                                                    class=""btn btn-xs btn-warning btnRejectComment"" 
                                                    data-comment=""");
#nullable restore
#line 93 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                             Write(pay.Comment);

#line default
#line hidden
#nullable disable
            WriteLiteral(" (rejected by - ");
#nullable restore
#line 93 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                                                         Write(pay.User.FirstName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
#nullable restore
#line 93 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                                                                             Write(pay.User.LastName);

#line default
#line hidden
#nullable disable
            WriteLiteral(")\"\r\n                                                    data-toggle=\"modal\"\r\n                                                    data-target=\"#RejectModal\">View Reason/Details</a>\r\n");
#nullable restore
#line 96 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                            }
                                        

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><b>Date Applied</b></td>\r\n                                    <td>");
#nullable restore
#line 102 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                   Write(Model.Date.ToLongDateString());

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</td>
                                </tr>
                                <tr>
                                    <td valign=""top"" style=""padding-top: 10px;""><b>Quarter</b></td>
                                    <td>
                                        <ul class=""list-group"">
                                            <li class=""list-group-item"">
                                                ");
#nullable restore
#line 109 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                           Write(Model.Quarter.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                                            </li>
                                        </ul>
                                    </td>
                                </tr>
                                                    
                                <tr>
                                    <td valign=""top"" style=""padding-top: 10px;""><b>Terminal(Port of Export)</b></td>
                                    <td>
                                        <ul class=""list-group"">
                                            <li class=""list-group-item"">
                                                ");
#nullable restore
#line 120 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                           Write(Model.Terminal.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                                            </li>
                                        </ul>
                                    </td>
                                </tr>
                                                    
                                <tr>
                                    <td valign=""top"" style=""padding-top: 10px;""><b>Quantity</b></td>
                                    <td>
                                        <ul class=""list-group"">
                                            <li class=""list-group-item"">
");
#nullable restore
#line 131 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                 if (Model.ApplicationTypeId == 3)
                                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                    <span> ");
#nullable restore
#line 133 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                      Write(Model.Quantity.ToString("N2"));

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
#nullable restore
#line 133 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                                                     Write(Model.GasStream);

#line default
#line hidden
#nullable disable
            WriteLiteral(" of ");
#nullable restore
#line 133 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                                                                         Write(Model.Product.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral(" (Supplementary)</span>\r\n");
#nullable restore
#line 134 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                }
                                                else
                                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                    <span> ");
#nullable restore
#line 137 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                      Write(Model.Quantity.ToString("N2"));

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
#nullable restore
#line 137 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                                                     Write(Model.GasStream);

#line default
#line hidden
#nullable disable
            WriteLiteral(" of ");
#nullable restore
#line 137 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                                                                         Write(Model.Product.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n");
#nullable restore
#line 138 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                                            </li>
                                        </ul>
                                    </td>
                                </tr>
                                                    
                                <tr>
                                    <td valign=""top"" style=""padding-top: 10px;""><b>Estimated Price ($)</b></td>
                                    <td>
                                        <ul class=""list-group"">
                                            <li class=""list-group-item"">");
#nullable restore
#line 148 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                                   Write(Model.ProductAmount.ToString("N2"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</li>
                                        </ul>
                                    </td>
                                </tr>
                                                    
                                <tr>
                                    <td valign=""top""><b>Attached Documents</b></td>
                                    <td>
                                        <div class=""list-group doc-list"">
");
#nullable restore
#line 157 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                             if (AppDocs.Count > 0)
                                            {
                                                foreach (var item in AppDocs)
                                                {
                                                    if (!string.IsNullOrEmpty(item.Source) && item.Source.ToLower().EndsWith(".pdf"))
                                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                        <a");
            BeginWriteAttribute("href", " href=\"", 9497, "\"", 9516, 1);
#nullable restore
#line 163 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
WriteAttributeValue("", 9504, item.Source, 9504, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" target=\"_blank\" class=\"list-group-item\">\r\n");
#nullable restore
#line 164 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                             if (item.Name.ToLower() == "other document")
                                                            {
                                                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 166 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                           Write(item.Document_Name);

#line default
#line hidden
#nullable disable
            WriteLiteral(" <i class=\"fa fa-file-pdf-o\"></i>\r\n");
#nullable restore
#line 167 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                            }
                                                            else
                                                            {
                                                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 170 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                           Write(item.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral(" <i class=\"fa fa-file-pdf-o\"></i>\r\n");
#nullable restore
#line 171 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                        </a>\r\n");
#nullable restore
#line 173 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                    }
                                                    else
                                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                        <a class=\"list-group-item zPix\"");
            BeginWriteAttribute("href", " href=\"", 10529, "\"", 10548, 1);
#nullable restore
#line 176 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
WriteAttributeValue("", 10536, item.Source, 10536, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" target=\"_blank\">\r\n");
#nullable restore
#line 177 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                             if (item.Name.ToLower() == "other document")
                                                            {
                                                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 179 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                           Write(item.Document_Name);

#line default
#line hidden
#nullable disable
            WriteLiteral(" <i class=\"glyphicon glyphicon-picture\"></i>\r\n");
#nullable restore
#line 180 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                            }
                                                            else
                                                            {
                                                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 183 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                           Write(item.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral(" <i class=\"glyphicon glyphicon-picture\"></i>\r\n");
#nullable restore
#line 184 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                        </a>\r\n");
#nullable restore
#line 186 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                    }
                                                }
                                            }
                                            else
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <h4>No document(s) submitted for this Application yet</h4>\r\n");
#nullable restore
#line 192 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            </table>\r\n                        </div>\r\n                        <div class=\" col-md-6\">\r\n");
#nullable restore
#line 199 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                         if (!User.IsInRole("Company"))
                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <div");
            BeginWriteAttribute("class", " class=\"", 12074, "\"", 12082, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                                <div>
                                    <table class=""table table-striped"" style=""width: 100%;"">
                                        <tr>
                                            <td><b>Received from</b></td>
                                            <td>");
#nullable restore
#line 206 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                           Write(GetHistory(Model.Id, Model.StageId)?.CurrentUser);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td><b>Received Date</b></td>\r\n                                            <td>");
#nullable restore
#line 210 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                           Write(GetHistory(Model.Id, Model.StageId)?.DateAssigned.ToString("MMMM dd, yyyy"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td><b>Current Desk</b></td>\r\n                                            <td>");
#nullable restore
#line 214 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                           Write(Model.LastAssignedUserId);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</td>
                                        </tr>
                                        <tr>
                                            <td><b>Received Office</b></td>
                                            <td>Head Office</td>
                                        </tr>
                                        <tr>
                                            <td><b>Last Message</b></td>
                                            <td>");
#nullable restore
#line 222 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                           Write(GetHistory(Model.Id, Model.StageId)?.Comment);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        </tr>\r\n\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n");
            WriteLiteral("                            <hr class=\"marg50\"/>\r\n");
#nullable restore
#line 230 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                        <div class=""pad"">
                            <div class=""panel-heading"" style=""padding-top: 1.5em; padding-bottom: 1.5em;"">
                                <p class=""panel-title"" style=""color: #ffffff !important; font-size: large;"">Payment Evidence Detail</p>
                            </div>
                            <table class=""table table-striped"">
");
#nullable restore
#line 236 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                  
                                    var payment = _application.FindById(Model.Id);
                                    if (payment.PaymentEvidence != null)
                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <tr>\r\n                                            <td>Bank Reference</td>\r\n                                            <td>");
#nullable restore
#line 242 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                           Write(payment.PaymentEvidence?.ReferenceCode);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>Multiple Refernce Code</td>\r\n                                            <td class=\"text-wrap\">");
#nullable restore
#line 246 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                             Write(payment.PaymentEvidence?.HashCode);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>Amount paid ($)</td>\r\n                                            <td>");
#nullable restore
#line 250 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                           Write(payment.PaymentEvidence?.Amount.ToString("N2"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>No of apps. paid for</td>\r\n                                            <td>");
#nullable restore
#line 254 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                           Write(payment.PaymentEvidence?.ApplicationQuantity);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>Count of usage</td>\r\n                                            <td>");
#nullable restore
#line 258 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                           Write(payment.PaymentEvidence?.UsageCount);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>Payment Description</td>\r\n                                            <td>");
#nullable restore
#line 262 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                           Write(payment.PaymentEvidence?.Description);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                        </tr>\r\n");
#nullable restore
#line 264 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                    }
                                    else
                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <tr>\r\n                                            <td colspan=\"2\">Payment evidence not available</td>\r\n                                            </tr>\r\n");
#nullable restore
#line 270 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                        }
                                    

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                </table>\r\n                            </div>\r\n                            <hr />\r\n                            <div class=\"pad\">\r\n\r\n");
#nullable restore
#line 278 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                 if (!User.IsInRole("Company"))
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                                    <div class=""panel panel-info"">
                                        <div class=""panel-heading"" style=""padding-top: 1.5em; padding-bottom: 1.5em;"">
                                            <p class=""panel-title"" style="" color: #ffffff !important;"">Application History (Last 5)</p>
                                        </div>
                                        <table class=""table table-striped"">

                                            <tr>
                                                <th>#</th>
                                                <th>Date</th>
                                                <th>Comment</th>
                                            </tr>
");
#nullable restore
#line 291 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                             foreach (var item in ViewBag.History)
                                            {
                                                cnt++;

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <tr>\r\n                                                    <td>");
#nullable restore
#line 295 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                   Write(cnt);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                                    <td>");
#nullable restore
#line 296 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                   Write(DisableBox(item.DateAssigned));

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                                    <td>");
#nullable restore
#line 297 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                                   Write(item.Comment);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                                </tr>\r\n");
#nullable restore
#line 299 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                                            <tr>
                                                <td colspan=""3"">
                                                    <a href=""#"" data-toggle=""modal"" data-target=""#modalHistory"">See all History</a>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
");
#nullable restore
#line 307 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n            \r\n");
#nullable restore
#line 316 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
         if (Model.Status.Equals(ApplicationStatus.Rejected) && Model.LastAssignedUserId.Equals(Model.User.Email))
        {

#line default
#line hidden
#nullable disable
            WriteLiteral("            <div>\r\n                <a class=\"btn btn-sm btn-warning\"");
            BeginWriteAttribute("href", " href=\"", 18776, "\"", 18814, 2);
            WriteAttributeValue("", 18783, "/Application/Resubmit/", 18783, 22, true);
#nullable restore
#line 319 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
WriteAttributeValue("", 18805, Model.Id, 18805, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">Continue</a>\r\n            </div>\r\n");
#nullable restore
#line 321 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
        }
    else if (Model.Status.Equals("Submitted"))
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div>\r\n            <a class=\"btn btn-sm btn-info\"");
            BeginWriteAttribute("href", " href=\"", 18973, "\"", 19034, 1);
#nullable restore
#line 325 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
WriteAttributeValue("", 18980, Url.Action("SubmitApplication", new { id = Model.Id}), 18980, 54, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">Submit Application</a>\r\n        </div>\r\n");
#nullable restore
#line 327 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"    </div>
</center>

<div class=""modal"" role=""dialog"" tabindex=""-1"" id=""modalHistory"" style=""margin-bottom: 5em;"">
    <div class=""modal-dialog modal-lg"" role=""document"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h2 class=""modal-title btn btn-primary col-md-4"">History Detail</h2>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">&times;</span>
                </button>
            </div>
            <div class=""modal-body"">
                <table class=""table table-striped"">
                    <thead>
                    <tr>
                        <td>#</td>
                        <td>Action</td>
                        <td>Comment</td>
                        <td>Treated By</td>
                        <td>Date Assigned</td>
");
            WriteLiteral("                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n");
#nullable restore
#line 353 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                     foreach (var history in GetApplicationHistory(Model.Id))
                    {
                        count++;

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <tr>\r\n                            <td>");
#nullable restore
#line 357 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                           Write(count);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td>");
#nullable restore
#line 358 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                           Write(history.Action);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td>");
#nullable restore
#line 359 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                           Write(history.Comment);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td>");
#nullable restore
#line 360 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                           Write(history.CurrentUser);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td>");
#nullable restore
#line 361 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                           Write(history.DateAssigned);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                        </tr>\r\n");
#nullable restore
#line 363 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                    </tbody>
                </table>
            </div>
            <div class=""modal-footer"">
                <button type=""button"" class=""btn btn-secondary"" data-dismiss=""modal"">Close</button>
            </div>
        </div>
    </div>
</div>
<div class=""modal"" role=""dialog"" tabindex=""-2"" id=""RejectModal"">
    <div class=""modal-dialog modal.sm"" role=""document"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h2 class=""modal-title"">Reason for application rejection</h2>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">&times;</span>
                </button>
            </div>
            <div class=""modal-body rjtBody"" style=""min-height: 280px;"">
            </div>
        </div>
    </div>
</div>

");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "342c58c0e65589590304f9d260a8d8887e8b0c1649012", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n<script>\r\n$(document).ready(function (){\r\n     $(\".btnRejectComment\").one(\'click\', function (e){\r\n         $(\".rjtBody\").html($(this).data(\"comment\"));\r\n    });\r\n});\r\n</script>");
        }
        #pragma warning restore 1998
#nullable restore
#line 388 "C:\Users\BrandOneTech\source\repos\GOTEX\COGATEX\GOTEX\GOTEX\Views\Application\ApplicationDetail.cshtml"
           
    private string DisableBox(DateTime date)
    {
        var diff = DateTime.UtcNow.AddHours(1) - date;
        if (diff.Days >= 7)
        {
            var weeks = (int)(diff.Days / 7);

            if (weeks > 1)
            {
                return weeks.ToString() + " weeks ago";
            }
            else // if (weeks == 1)
            {
                return weeks.ToString() + " week ago";
            }
        }
        else if (diff.Days >= 1)
        {
            if (diff.Days > 1)
            {
                return diff.Days.ToString() + " days ago";
            }
            else //if (diff.Days == 1)
            {
                return "Yesterday";
            }
        }
        else if (diff.Hours >= 1)
        {
            if (diff.Hours > 1)
            {
                return diff.Hours.ToString() + " Hours ago";
            }
            else //if (diff.Hours == 1)
            {
                return diff.Hours.ToString() + " Hour ago";
            }
        }
        else
        {
            return diff.Minutes.ToString() + " Minutes ago";
        }    
    }
    
    private ApplicationHistory GetHistory(int id, int wkflowid)
    {
        var history = _history.GetApplicationHistoriesById( id)
            .Where(x => 
                x.ApplicationId == id && x.WorkFlowId == wkflowid )
            .OrderByDescending(x => x.Id).FirstOrDefault();
            //if(User.IsInRole("Company"))
            //history = _history.GetApplicationHistoriesById( id).Where(x => x.Application.User.Email.Equals(User.Identity.Name))
        return history;
    }

    private List<ApplicationHistory> GetApplicationHistory(int id) => _history.GetApplicationHistoriesById(id).OrderByDescending(x => x.DateAssigned).ToList();


#line default
#line hidden
#nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public IPayment<PaymentApproval> _payment { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public IApplication<Application> _application { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public IAppHistory<ApplicationHistory> _history { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Application> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
